{"ast":null,"code":"import _slicedToArray from \"C:/Users/User/don1/depend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectWithoutProperties from \"C:/Users/User/don1/depend/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"points\", \"color\", \"vertexColors\", \"linewidth\", \"lineWidth\", \"dashed\"];\nimport _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\nvar Line = /*#__PURE__*/React.forwardRef(function Line(_ref, ref) {\n  var points = _ref.points,\n      _ref$color = _ref.color,\n      color = _ref$color === void 0 ? 'black' : _ref$color,\n      vertexColors = _ref.vertexColors,\n      linewidth = _ref.linewidth,\n      lineWidth = _ref.lineWidth,\n      dashed = _ref.dashed,\n      rest = _objectWithoutProperties(_ref, _excluded);\n\n  var _React$useState = React.useState(function () {\n    return new Line2();\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 1),\n      line2 = _React$useState2[0];\n\n  var _React$useState3 = React.useState(function () {\n    return new LineMaterial();\n  }),\n      _React$useState4 = _slicedToArray(_React$useState3, 1),\n      lineMaterial = _React$useState4[0];\n\n  var _React$useState5 = React.useState(function () {\n    return new Vector2(512, 512);\n  }),\n      _React$useState6 = _slicedToArray(_React$useState5, 1),\n      resolution = _React$useState6[0];\n\n  var lineGeom = React.useMemo(function () {\n    var geom = new LineGeometry();\n    var pValues = points.map(function (p) {\n      return p instanceof Vector3 ? p.toArray() : p;\n    });\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      var cValues = vertexColors.map(function (c) {\n        return c instanceof Color ? c.toArray() : c;\n      });\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(function () {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(function () {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(function () {\n    return function () {\n      return lineGeom.dispose();\n    };\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: linewidth !== null && linewidth !== void 0 ? linewidth : lineWidth,\n    dashed: dashed\n  }, rest)));\n});\nexport { Line };","map":{"version":3,"names":["_extends","React","Vector2","Vector3","Color","Line2","LineMaterial","LineGeometry","Line","forwardRef","ref","points","color","vertexColors","linewidth","lineWidth","dashed","rest","useState","line2","lineMaterial","resolution","lineGeom","useMemo","geom","pValues","map","p","toArray","setPositions","flat","cValues","c","setColors","useLayoutEffect","computeLineDistances","defines","USE_DASH","needsUpdate","useEffect","dispose","createElement","object","attach","Boolean"],"sources":["C:/Users/User/don1/depend/node_modules/@react-three/drei/core/Line.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport { Vector2, Vector3, Color } from 'three';\nimport { Line2, LineMaterial, LineGeometry } from 'three-stdlib';\n\nconst Line = /*#__PURE__*/React.forwardRef(function Line({\n  points,\n  color = 'black',\n  vertexColors,\n  linewidth,\n  lineWidth,\n  dashed,\n  ...rest\n}, ref) {\n  const [line2] = React.useState(() => new Line2());\n  const [lineMaterial] = React.useState(() => new LineMaterial());\n  const [resolution] = React.useState(() => new Vector2(512, 512));\n  const lineGeom = React.useMemo(() => {\n    const geom = new LineGeometry();\n    const pValues = points.map(p => p instanceof Vector3 ? p.toArray() : p);\n    geom.setPositions(pValues.flat());\n\n    if (vertexColors) {\n      const cValues = vertexColors.map(c => c instanceof Color ? c.toArray() : c);\n      geom.setColors(cValues.flat());\n    }\n\n    return geom;\n  }, [points, vertexColors]);\n  React.useLayoutEffect(() => {\n    line2.computeLineDistances();\n  }, [points, line2]);\n  React.useLayoutEffect(() => {\n    if (dashed) {\n      lineMaterial.defines.USE_DASH = '';\n    } else {\n      // Setting lineMaterial.defines.USE_DASH to undefined is apparently not sufficient.\n      delete lineMaterial.defines.USE_DASH;\n    }\n\n    lineMaterial.needsUpdate = true;\n  }, [dashed, lineMaterial]);\n  React.useEffect(() => {\n    return () => lineGeom.dispose();\n  }, [lineGeom]);\n  return /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: line2,\n    ref: ref\n  }, rest), /*#__PURE__*/React.createElement(\"primitive\", {\n    object: lineGeom,\n    attach: \"geometry\"\n  }), /*#__PURE__*/React.createElement(\"primitive\", _extends({\n    object: lineMaterial,\n    attach: \"material\",\n    color: color,\n    vertexColors: Boolean(vertexColors),\n    resolution: resolution,\n    linewidth: linewidth !== null && linewidth !== void 0 ? linewidth : lineWidth,\n    dashed: dashed\n  }, rest)));\n});\n\nexport { Line };\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}